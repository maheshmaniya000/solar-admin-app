
<span *ngIf="unit.toggle; else noToggle"
      [matMenuTriggerFor]="toggleMenu"
      (click)="$event.stopPropagation()" class="toggle">
  <span [innerHtml]="unitHtml$ | async"></span><mat-icon>arrow_drop_down</mat-icon>
</span>

<mat-menu #toggleMenu="matMenu">
  <button mat-menu-item fxLayout="row"
          *ngFor="let variant of toggleVariants$ | async"
          (click)="toggleUnit(variant.toggleKeys)">
    <div fxFlex="32px">
      <mat-icon *ngIf="equalsToggleKeys(variant.toggleKeys, (currentToggleKeys$ | async))">done</mat-icon>
    </div>
    <div fxFlex [innerHtml]="variant.html"></div>
  </button>
</mat-menu>

<ng-template #noToggle>
  <span [innerHtml]="unitHtml$ | async"></span>
</ng-template>
