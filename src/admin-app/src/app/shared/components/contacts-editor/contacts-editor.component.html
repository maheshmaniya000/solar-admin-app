<ng-container [formGroup]="getParentFormGroup()">
  <ng-container formArrayName="contacts">
    <div class="contact" *ngFor="let contactFormGroup of formArray.controls; let i = index" [formGroup]="getContactFormGroup(i)">
      <mat-form-field>
        <mat-label>First name</mat-label>
        <input matInput formControlName="firstName" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Last name</mat-label>
        <input matInput formControlName="lastName" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Middle name</mat-label>
        <input matInput formControlName="middleName" />
      </mat-form-field>
      <mat-form-field [customErrors]="emailCustomErrors">
        <mat-label>Email</mat-label>
        <input type="text" matInput formControlName="email" required />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" />
      </mat-form-field>
      <button mat-button mat-icon-button aria-label="Remove" type="button" (click)="onRemoveButtonClick(i)">
        <mat-icon>delete</mat-icon>
      </button>
      <mat-error *ngIf="contactFormGroup.hasError('invalidFirstNameOrLastName') && contactFormGroup.touched">
        {{ 'auth.registration.firstOrLastNameRequired' | transloco }}
      </mat-error>
    </div>
  </ng-container>
</ng-container>
